from gensim.models.ldamodel import LdaModel
from gensim.corpora.dictionary import Dictionary
from pprint import pprint
if __name__ == '__main__':
	texts=[['Barclays', 'shareholder',  'voted', 'approve', 'bank', 'remuneration', 'package',  'includes', 'higher', 'bonus', '30', 'fall', 'profit', '34', 'shareholder', 'failed', 'back', 'report', 'standard', 'life', 'investment', 'key', 'institutional', 'shareholder', 'voted', 'package', 'BBC', 'chief', 'economics', 'correspondent', 'hugh', 'pym',   'significant', 'minority', 'remuneration', 'report', 'vote', 'came', 'backdrop', 'political', 'public', 'opposition', 'overall', 'share', 'profit', 'that',  'gone', 'compensation',  'gone', 'UK', 'bank', 'not', 'sufficiently', 'make', 'decline', 'return', 'equity', 'Barclays',  '24', 'shareholder', 'who', 'voted', 'opposed', 'remuneration', 'report', 'when', 'withheld', 'vote',  'added', 'proportion', 'shareholder', 'failing', 'back', 'plan',  '34', 'decision', 'institute', 'Directors', 'IoD',  'Barclay', 'decision', 'increase', 'bonus', 'pool', 'more', '10', 'year', 'when', 'profit', 'fell', 'third', 'when', 'bonus', 'continue', 'dwarf', 'dividend', 'payouts', 'shareholder', 'factor', 'three', 'one',  'always', 'going',  'tough', 'sell', 'significant', 'vote', 'shareholder', 'remuneration', 'report',  'brought', 'credit', 'institutional', 'investor',  'dr', 'roger', 'barker', 'director', 'corporate', 'governance', 'IoD', 'fund', 'manager', 'standard', 'life',  'shown', 'willingness', 'act', 'responsible', 'owner', 'more', 'active', 'approach', 'stewardship', 'amongst', 'shareholder',  'essential', 'UK',  'sustain', 'leadership', 'role', 'corporate', 'governance', 'bank', 'intends', 'increase', 'staff', 'bonus', 'pool', '10', '2.38bn', 'Barclays', 'thursday',  'first', 'quarter', 'profit', 'would',  'lower', 'year', 'Barclays', 'shareholder', 'respond', 'plan', 'february', 'Barclays', 'announced', '30', 'fall', 'annual', 'profit', 'job', 'cut', 'bank',  'cost-cutting', 'programme',  'starting', 'show', 'material', 'benefit', 'would', 'help', 'offset', 'downturn', 'investment', 'banking', 'earlier', 'day', 'alison', 'kennedy', 'governance', 'stewardship', 'director', 'standard', 'life', 'investment',  'firm', 'would', 'vote', 'approving', 'remuneration', 'report', 'appreciate',  'competitive', 'pressure', '2013', 'chiefly', 'investment', 'banking', 'board',  'seeking', 'protect', 'business', 'franchise', 'threat',  'standard', 'life', 'investment',  'unconvinced', 'amount', '2013', 'bonus', 'pool',  'best', 'interest', 'shareholder', 'also', 'believe', 'decision',  'had', 'negative', 'repercussion', 'bank', 'reputation', 'earlier', 'week', 'Business', 'secretary', 'vince', 'cable', 'wrote', 'UK', 'top', '100', 'company', 'warning', 'keep', 'lid', 'executive', 'pay', 'bank',  'restriction', 'executive', 'bonus', 'brought', 'european', 'union', 'require', 'most', 'bonus',  'deferred', 'several', 'year', 'part',  'share',  'can',  'taken', 'emerges', 'company', 'performance',  'worse', 'thought', 'shareholder', 'activist', 'group', 'Pirc', 'had', 'recommended', 'member', 'vote', 'five', 'resolution', 'meeting', 'including', 'remuneration', 'report'],['Labour', 'party',  'looking', 'sever', 'link', 'troubled', 'co-op', 'Bank', 'bringing', 'end', 'one', 'oldest', 'political', 'partnership', 'uk', 'BBC',  'learned', 'ian', 'mcnicoll', 'Labour', 'general', 'secretary',  'looking', 'move', 'loan', 'more', '1m', 'trade', 'union-owned', 'unity', 'trust', 'Bank', 'move', 'come', 'year', 'controversy', 'bank', 'included', 'resignation', 'chairman', 'paul', 'flower', 'who',  'now', 'facing', 'charge', 'drug', 'possession', 'source', 'Labour', 'party',  'told', 'BBC', 'business', 'editor', 'kamal', 'ahmed', 'negotiation',  'begun', 'move', '1.2m', 'loan', 'Labour',  'co-op', 'Bank', 'unity', 'trust', 'Bank', 'once', 'loan',  'been', 'moved', 'Labour', 'would', 'move', 'current', 'account', 'facility', 'same', 'bank', 'when', 'asked', 'Labour', 'how', 'long', 'had', 'banked', 'co-op', 'admitted', 'relationship',  'so', 'ancient', 'one',  'old', 'enough', 'remember', 'Labour', 'party', 'spokesperson',  'Labour', 'party',  'constantly', 'reviewing', 'financial', 'arrangement', 'decision', 'including', 'loan', 'consolidation',   'taken', 'commercial', 'reason', 'however', 'senior', 'source', 'say', 'past', 'year', 'controversy',  'strained', 'relation', 'conservative', 'party', 'chairman', 'grant', 'Shapps',  'proposal', 'would', 'hand', 'trade', 'union', 'even', 'more', 'control', 'ed', 'miliband', 'Labour', 'party',  'also', 'understood', 'bank', 'now', '70', 'owned', 'American', 'investor', 'want', 'become', 'apolitical',  'reported', 'last', 'year', 'Labour', 'had', '3.9m', 'overdraft', 'facility', 'bank', 'party', 'source', 'say',  'longer', 'case', 'move',  'see', 'one', 'oldest', 'political', 'banking', 'relationship', 'come', 'end', 'co-op', 'movement', 'Labour', 'joined', 'party', '1920s', 'party', 'source',  'financial', 'relationship', 'started', 'then', 'battling', 'lower', 'debt', 'burden',  'reduced', 'amount', 'owes', '25m', '2006', '4.5m', 'today', 'earlier', 'week', 'emerged', 'major', 'report', 'near', 'collapse', 'co-operative', 'Bank',  'blame', 'poor', 'governance', 'organisation', 'report',  'also', 'say', 'ill-fated', 'takeover', 'britannia', 'building', 'society', 'sowed', 'seed', 'problem', 'bank']]



	dictionary=Dictionary(texts)
	corpus=[dictionary.doc2bow(text) for text in texts]
	lda = LdaModel(corpus,num_topics=50,id2word=dictionary,update_every=1,chunksize=1000,passes=100)
	lda.save('lda')
	pprint(sorted(lda.print_topics(50),reverse=True))
	

